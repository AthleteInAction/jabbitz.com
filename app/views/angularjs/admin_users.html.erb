<ol class="breadcrumb">
	<li><a href="#/">Admin</a></li>
	<li class="active">Users</li>
</ol>

<!-- <a href="" ng:click="getUsers()"><span class="glyphicon glyphicon-refresh"></span></a> -->

<table class="users-table table table-bordered table-condensed table-striped table-hover">
	<tr>
		<td colspan="2">
			<input type="number" class="form-control" placeholder="ID" ng:model="search.ids" onstop="searchUsers()" />
		</td>
		<td colspan="1">
			<input type="text" class="form-control" placeholder="Name" ng:model="search.name" onstop="searchUsers()" />
		</td>
		<td colspan="1">
			<input type="text" class="form-control" placeholder="Email" ng:model="search.email" onstop="searchUsers()" />
		</td>
		<td colspan="3">
			<!-- <button class="btn btn-primary btn-block">Go</button> -->
		</td>
	</tr>
	<tr>
		<th align="center">
			<div align="center">
				ID
			</div>
		</th>
		<th>
			<div align="center">
				Access
			</div>
		</th>
		<th>
			Name
		</th>
		<th>Email</th>
		<th>City</th>
		<th>State</th>
		<th><div align="center">FL</div></th>
	</tr>
	<tr ng:repeat="user in users.list">
		<td align="center">
			<b>{{user.id}}</b>
		</td>
		<td align="center">
			<select class="btn btn-default" ng:model="user.access" ng:change="user.update('access',user.access)">
				<option value="0">End-User</option>
				<option value="1">Admin</option>
			</select>
		</td>
		<td>
			<a href="/#/people/{{user.id}}" target="_blank">{{user.name}}</a>
		</td>
		<td>{{user.email}}</td>
		<td>{{user.city}}</td>
		<td>{{user.state}}</td>
		<td align="center">
			<input type="checkbox" ng:model="user.floating" disabled="disabled" />
		</td>
	</tr>
</table>

<button class="btn btn-default btn-block" ng:if="users.meta.next_page" ng:click="users.nextPage()">
	<span ng:if="!users.loading.get">Load More</span>
	<%= image_tag 'icon-loading.gif','ng:if' => 'users.loading.get' %>
</button>

<alert type="success" ng:if="users.meta.current_page == users.meta.total_pages && !users.loading.get && users.meta.total_pages > 1">All items have been loaded.</alert>